# LOG: YYYY-MM-DD

このファイルは、Claude Code、Codex、Yoshihitoさんの三者協働における日次活動記録テンプレートです。
各エントリには、対話の進行順を示す**ログ番号（LOG_00001 形式）**を付与してください。
番号はファイル全体で単調増加させ、`LOG_00001 Codex` → `LOG_00002 ClaudeCode` のように見出しで明示します。

**ログ番号の付け方（必須ルール）**
- ファイル内で最後に使われた番号を確認し、+1 した番号を新規エントリに割り当てる。
- ログ番号は5桁ゼロパディング（例: LOG_00007）。
- 番号が競合した場合は、先に記録した側を優先し、後から書いた側が番号を振り直す。
- 過去の番号を書き換えない。修正が必要な場合は `LOG_0000X (修正済)` のように追記で対応。

---

## [PROPOSAL] - 提案内容

**説明**: 設計案、実装方針、新機能アイデアなど、何らかの提案を記録するセクションです。

**記入項目**:
- **目的**: なぜこの提案をするのか（背景・課題）
- **提案概要**: 具体的な提案内容
- **期待効果**: この提案によって得られる効果・メリット
- **検討事項**: 考慮すべき点、懸念事項、代替案など

**記入例**:
```
### LOG_00012 Codex
- **目的**: API応答速度が遅いため、キャッシュ機能の導入を検討
- **提案概要**: IndexedDBを使った90日間のデータキャッシュ実装
- **期待効果**: API呼び出し回数を削減し、ユーザ体験を向上
- **検討事項**: ストレージ容量制限、キャッシュ無効化タイミングの設計
```

**長文の場合**: 詳細設計は別途 `docs/engineering/` または `docs/development/` に記載し、このセクションからリンクしてください。

---

## [REVIEW] - レビュー結果

**説明**: コードレビュー、設計レビュー、テスト結果の評価などを記録するセクションです。

**記入項目**:
- **レビュー対象**: 何をレビューしたか（ファイル名、機能名など）
- **所見**: 良い点、気になった点の概要
- **改善点**: 修正が必要な点、推奨する変更
- **決定事項**: レビューの結果決まったこと

**記入例**:
```
### LOG_00013 ClaudeCode
- **レビュー対象**: frontend/src/components/PopulationChart.jsx
- **所見**: グラフ描画ロジックは適切に実装されている
- **改善点**: エラーハンドリングが不足、ローディング状態の表示を追加すべき
- **決定事項**: 次のコミットでエラーハンドリングとローディング表示を実装
```

---

## [PLAN] - 作業計画

**説明**: タスクリスト、開発スケジュール、実装ステップなどを記録するセクションです。

**記入項目**:
- **目的**: 作業の目的・ゴール
- **作業項目**: 実施するタスクを番号付きリストで列挙
- **優先度**: 高/中/低
- **期限**: いつまでに完了させるか（目標日時）

**記入例**:
```
### LOG_00014 Yoshihitoさん
- **目的**: v1.1リリースに向けた機能追加
- **作業項目**:
  1. キャッシュ機能の実装（Claude Code担当）
  2. UIデザインの改善（Codex設計、Claude Code実装）
  3. テストケース追加（Claude Code担当）
- **優先度**: 高
- **期限**: 2025-11-15
```

---

## [RUNLOG] - 実行記録

**説明**: 実際に行った作業内容、実装結果、テスト結果などを記録するセクションです。最も詳細に記録するセクションです。

**記入項目**:
- **目的**: 何のために作業したか
- **方法**: どのように実装・作業したか（アプローチ、使用した技術）
- **実装内容**: 具体的に何を作成・変更したか
- **結果**: 成功/失敗、テスト結果、動作確認結果
- **変更ファイル**: 変更・追加したファイルのリスト
- **追記事項**: 残課題、次のステップ、注意点など

**記入例**:
```
### LOG_00015 ClaudeCode
- **目的**: 東京23区データの静的JSON化によるAPI負荷軽減
- **方法**: e-Stat APIから取得したデータをJSON形式で保存、フロントエンドで直接読み込み
- **実装内容**:
  - 東京23区の人口データを静的JSONファイル化
  - データ取得ロジックを変更し、東京23区の場合は静的JSONを参照
- **結果**: 成功。東京23区選択時のAPI呼び出しが0回になり、表示速度が3倍向上
- **変更ファイル**:
  - frontend/src/data/tokyo23.json（新規作成）
  - frontend/src/services/dataService.js（修正）
- **追記事項**: 他の大都市圏も同様に静的化を検討する価値あり
```

**長文の場合**: 詳細な技術仕様や手順は別途 `docs/engineering/` に記載し、このセクションからリンクしてください。

---

## [DECISION] - 決定事項

**説明**: 重要な判断、方針確定、アーキテクチャ上の決定などを記録するセクションです。後で検索しやすいよう、簡潔かつ明確に記述してください。

**記入項目**:
- **決定内容**: 何を決定したか（**1行で簡潔に**）
- **理由**: なぜそう決定したか（背景、根拠）
- **影響**: この決定が影響する部分、範囲
- **DECISIONS.md転記**: [ ] 要 / [x] 不要（チェックボックスで管理）

**記入例**:
```
### LOG_00016 Yoshihitoさん
- **決定内容**: キャッシュ保持期間を90日間に設定
- **理由**: 総務省の人口データは年1回更新のため、90日間で十分かつストレージ負荷も軽減
- **影響**: キャッシュ管理ロジック全体、IndexedDBのバージョン管理方針
- **DECISIONS.md転記**: [x] 要
```

**DECISIONS.md転記ルール**:
- [x] 要 の場合、以下の1行形式で `DECISIONS.md` に転記してください:
  ```
  - YYYY-MM-DD: [決定内容を1行で記載]
  ```

---

## 📌 使い方のポイント

1. **ログ番号は必須**: 各エントリに `LOG_00000` 形式の番号を記載
2. **番号順で追記**: 新しいエントリは前の番号より大きくなるように追加
3. **簡潔に**: 要点を絞って記載。詳細は別ファイルにリンク
4. **From/To形式との併用**: AI同士のやりとりは `From: / To:` 形式で記載した上で、このログにも記録

---

**テンプレートバージョン**: v1.1
**最終更新**: 2026-01-16
